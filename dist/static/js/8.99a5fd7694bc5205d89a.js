webpackJsonp([8],{"7ymN":function(s,e){},DLiD:function(s,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=a("gyMJ"),i=a("mw3O"),n=a.n(i),d={data:function(){return{addressList:[],editAddressShow:!1,addressShowTitle:"",loadingBtn:!1,elLoading:!1,loading:!1,provinceList:null,cityList:null,saveType:0,TM_address:{name:"",phone:"",province:"",city:"",postcode:"",detailed:"",id:"",isDefault:!0}}},created:function(){this.getData()},methods:{getData:function(){var s=this;this.loading=!0,Object(t.i)().then(function(e){s.loading=!1,200==e.code&&(s.addressList=e.content)}),Object(t.h)().then(function(e){s.provinceList=e.content})},addressShow:function(s,e){if(this.saveType=s,this.editAddressShow=!0,this.addressShowTitle=0==s?"Add Address":"Modify Address",0==s)for(var a in this.TM_address)this.TM_address[a]="isDefault"===a||"";else this.getCity(e.province,1),this.TM_address.name=e.name,this.TM_address.detailed=e.address,this.TM_address.city=e.city,this.TM_address.phone=e.phone,this.TM_address.postcode=e.postcode,this.TM_address.province=e.province,this.TM_address.id=e.id,1==e.status?this.TM_address.isDefault=!0:this.TM_address.isDefault=!1},getCity:function(s,e){var a=this;1==e&&(this.elLoading=!0),this.TM_address.city="",Object(t.g)(n.a.stringify({id:s})).then(function(s){a.elLoading=!1,a.cityList=s.content})},saveAddress:function(s){var e=this;if(0==s){var a=[];for(var i in this.TM_address)"isDefault"!==i&&"id"!==i&&a.push(this.TM_address[i].length);if(a.indexOf(0)<0){var d=0;d=this.TM_address.isDefault?1:0,this.loadingBtn=!0;var o=this.provinceList.filter(function(s){return s.id==e.TM_address.province})[0].name,r=this.cityList.filter(function(s){return s.id==e.TM_address.city})[0].name;Object(t.a)(n.a.stringify({city:r,detailed:this.TM_address.detailed,isDefault:d,name:this.TM_address.name,phone:this.TM_address.phone,postcode:this.TM_address.postcode,province:o})).then(function(s){e.loadingBtn=!1,e.editAddressShow=!1,e.$message.success("Add Address success !!"),e.getData()})}else this.$message.warning("Please input All infomation")}else{var l=[];for(var c in this.TM_address)"isDefault"!==c&&l.push(this.TM_address[c].length);if(l.indexOf(0)<0){var v=0;v=this.TM_address.isDefault?1:0,this.loadingBtn=!0;var _=void 0,y=void 0;_=isNaN(this.TM_address.city)?this.TM_address.city:this.cityList.filter(function(s){return s.id==e.TM_address.city})[0].name,y=isNaN(this.TM_address.province)?this.TM_address.province:this.provinceList.filter(function(s){return s.id==e.TM_address.province})[0].name,Object(t.w)(n.a.stringify({id:this.TM_address.id,city:_,detailed:this.TM_address.detailed,isDefault:v,name:this.TM_address.name,phone:this.TM_address.phone,postcode:this.TM_address.postcode,province:y})).then(function(s){e.loadingBtn=!1,e.editAddressShow=!1,e.$message.success("Save success !!"),e.getData()})}else this.$message.warning("Please input All infomation")}},remove:function(s,e){var a=this;this.$confirm("REMOVE ?","Tips",{type:"warning"}).then(function(){a.loading=!0,Object(t.d)(n.a.stringify({id:s})).then(function(s){a.getData(),a.$message.success("Delete success !!")})}).catch(function(){})}}},o={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"address-container"},[t("div",{staticClass:"wrap"},[t("button",{staticClass:"add-show",on:{click:function(e){s.addressShow(0)}}},[s._v("Add New Address")]),s._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:s.loading,expression:"loading"}],staticClass:"flex-container"},[s._m(0),s._v(" "),s._l(s.addressList,function(e,i){return t("div",{key:i,staticClass:"flex-box"},[t("div",{staticClass:"re-name"},[1==e.status?t("div",{staticClass:"default"},[s._v("default")]):s._e(),s._v(" "),t("p",[s._v(s._s(e.name))]),s._v(" "),t("p",[s._v(s._s(e.phone))])]),s._v(" "),t("div",{staticClass:"shipping"},[t("p",[s._v("Home")]),s._v(" "),t("p",[s._v(s._s(e.province)+" . "+s._s(e.city)+" , "+s._s(e.address)+" . ")]),s._v(" "),t("p",[s._v(s._s(e.postcode))])]),s._v(" "),t("div",{staticClass:"modify"},[t("button",{on:{click:function(a){s.addressShow(1,e)}}},[s._v("Modify")])]),s._v(" "),t("div",{staticClass:"remove",on:{click:function(a){s.remove(e.id,i)}}},[t("img",{attrs:{src:a("xGJj"),alt:""}})])])}),s._v(" "),0==s.addressList.length?t("div",{staticClass:"no-address"},[s._v("No Address")]):s._e()],2)]),s._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:s.elLoading,expression:"elLoading"}],attrs:{visible:s.editAddressShow,"close-on-click-modal":!1,"show-close":!1,width:"50%"},on:{"update:visible":function(e){s.editAddressShow=e}}},[t("div",{staticClass:"close",on:{click:function(e){s.editAddressShow=!s.editAddressShow}}},[s._v("X")]),s._v(" "),t("h6",[s._v(s._s(s.addressShowTitle))]),s._v(" "),t("ul",{staticClass:"from-letter"},[t("li",[t("label",[s._v("Receiving Name")]),s._v(" "),t("el-input",{staticClass:"no-select",attrs:{placeholder:"name"},model:{value:s.TM_address.name,callback:function(e){s.$set(s.TM_address,"name",e)},expression:"TM_address.name"}})],1),s._v(" "),t("li",[t("label",[s._v("Telephone Number")]),s._v(" "),t("el-input",{staticClass:"no-select",attrs:{placeholder:"phone"},model:{value:s.TM_address.phone,callback:function(e){s.$set(s.TM_address,"phone",e)},expression:"TM_address.phone"}})],1),s._v(" "),t("li",[t("label",[s._v("Province")]),s._v(" "),t("el-select",{staticClass:"select-item",attrs:{placeholder:"province"},on:{change:function(e){s.getCity(s.TM_address.province)}},model:{value:s.TM_address.province,callback:function(e){s.$set(s.TM_address,"province",e)},expression:"TM_address.province"}},s._l(s.provinceList,function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}},[t("span",[s._v(s._s(e.name))])])}),1)],1),s._v(" "),t("li",[t("label",[s._v("City")]),s._v(" "),t("el-select",{staticClass:"select-item",attrs:{placeholder:"city"},model:{value:s.TM_address.city,callback:function(e){s.$set(s.TM_address,"city",e)},expression:"TM_address.city"}},s._l(s.cityList,function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}},[t("span",[s._v(s._s(e.name))])])}),1)],1),s._v(" "),t("li",[t("label",[s._v("Post Code")]),s._v(" "),t("el-input",{staticClass:"no-select",attrs:{placeholder:"postcode"},model:{value:s.TM_address.postcode,callback:function(e){s.$set(s.TM_address,"postcode",e)},expression:"TM_address.postcode"}})],1),s._v(" "),t("li",[t("label",[s._v("Detailed")]),s._v(" "),t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"detailed"},model:{value:s.TM_address.detailed,callback:function(e){s.$set(s.TM_address,"detailed",e)},expression:"TM_address.detailed"}})],1)]),s._v(" "),t("div",{staticClass:"dialog-end"},[t("p",[t("span",[s._v("Default Address")]),s._v(" "),t("el-switch",{attrs:{"active-color":"#3E3C89","inactive-color":"#A8ABAE"},model:{value:s.TM_address.isDefault,callback:function(e){s.$set(s.TM_address,"isDefault",e)},expression:"TM_address.isDefault"}})],1),s._v(" "),0==s.saveType?t("el-button",{attrs:{loading:s.loadingBtn},on:{click:function(e){s.saveAddress(0)}}},[s._v("Confirm")]):t("el-button",{attrs:{loading:s.loadingBtn},on:{click:function(e){s.saveAddress(1)}}},[s._v("Save")])],1)])],1)},staticRenderFns:[function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"flex-box title"},[e("div",{staticClass:"re-name"},[this._v("Recieved Name")]),this._v(" "),e("div",{staticClass:"shipping"},[this._v("Shipping Address")]),this._v(" "),e("div",{staticClass:"modify"}),this._v(" "),e("div",{staticClass:"remove"})])}]};var r=a("VU/8")(d,o,!1,function(s){a("7ymN"),a("G1St"),a("iv6N")},"data-v-553789f2",null);e.default=r.exports},G1St:function(s,e){},iv6N:function(s,e){},xGJj:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABdCAMAAAArFDDTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA+VBMVEX///+nqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqaynqawAAADqT19rAAAAUXRSTlMADmq34+/54rNiCWTt5VMDoIgBnH9Y/j8G4c5VNk9U0LhQRd/RGA8wLSjyhmmSOvwV18G/z83F28zWopYphESQ9VZKx/ijIxk8TVtfZ29gQAtQIbUkAAAAAWJLR0RSDWAtkAAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+MFHQonA3jMpbcAAAEdSURBVFjD7dVpT8JAEIDhVWlFRJEiiGiVSwQ5qoIgCCKncqn7//8MCSG4KdBuZ2vS0Hm/z5O0mckSsrG9/QOPJFMmWTr0HvmIhY79dGMnp9xE4IxuLahwIiFq0DmfETYyaOSCx4heGiI0xoNcUZOu12dUXTe3Zkg8oRtJErMRjlIOQiTx0laOAbPWnSpUZoGoYltyj8j/INkFkouIGA/LtygvghSW26bE4UZxtbMlsKE9rpCADEWemPORoMizHUjZMYgtn1NBBBH3IS+OuWJEEEEEEUTcgFQd8wIigogLkZodSGq3kFcGqUORBoO8QZEwgzQ14C+JMghpgQztnTWI0gYYHx2iq9uzSPQHQ7Le59dIHU94ms5m3z+/f5NzsYDbx4+B7LgAAAAASUVORK5CYII="}});
//# sourceMappingURL=8.99a5fd7694bc5205d89a.js.map