webpackJsonp([18],{"3uBo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("gyMJ"),l={name:"licence",data:function(){return{EmailDialog:!1,saveload:!1,coderun:!1,codeLoad:!1,codeTime:60,form:{email:"",code:"",mark:""},buylist:[],list:[{title:"License Level A",users:"50",qty:0},{title:"License Level B",users:"200",qty:0},{title:"License Level C",users:"500",qty:0},{title:"License Level D",users:"1000",qty:0}]}},methods:{gobuy:function(){var e=this;this.buylist=[],this.list.forEach(function(t){t.qty>0&&e.buylist.push(t)}),this.buylist.length>0?this.EmailDialog=!0:this.$message({message:"Please choose licenses",type:"warning"})},getcode:function(){var e=this;/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(this.form.email)?this.codeLoad||(this.codeLoad=!0,Object(s.M)({email:this.form.email}).then(function(t){if(1==t.code)var a=setInterval(function(){e.coderun=!0,e.codeTime--,0==e.codeTime&&(clearInterval(a),e.codeLoad=!1,e.codeTime=60,e.coderun=!1)},1e3)})):this.$message.error("Mailbox error")},save:function(){var e=this;/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(this.form.email)&&this.form.code.length>0&&(this.saveload=!0,Object(s.D)({list:this.buylist,code:this.form.code,email:this.form.email,remark:this.form.mark}).then(function(t){1==t.code?(e.$message.success("Success"),e.EmailDialog=!1,e.form.code="",e.form.mark=""):e.$message.error(t.content),e.saveload=!1}))}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"licence"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:{span:18,offset:3},align:"center"}},[a("el-row",{attrs:{gutter:10}},e._l(e.list,function(t,s){return a("el-col",{key:s,attrs:{sm:12,md:6,align:"center"}},[a("div",{staticClass:"detail"},[a("h3",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),a("div",{staticClass:"users"},[e._v(e._s(t.users)+" Users")])]),e._v(" "),a("el-input-number",{attrs:{size:"mini",min:0},model:{value:t.qty,callback:function(a){e.$set(t,"qty",a)},expression:"item.qty"}})],1)}),1),e._v(" "),a("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.gobuy}},[e._v("Email to buy")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"Purchase Details",visible:e.EmailDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.EmailDialog=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:12}},[a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{md:12}},[a("el-form-item",{attrs:{label:"Verification Code"}},[a("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[a("template",{slot:"append"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.coderun,expression:"!coderun"}],attrs:{type:"text",loading:e.codeLoad},on:{click:e.getcode}},[a("span",{staticClass:"getcode"},[e._v("Get Code")])]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.coderun,expression:"coderun"}]},[e._v(e._s(e.codeTime))])],1)],2)],1)],1),e._v(" "),a("el-col",{attrs:{md:12}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"Remarks"},model:{value:e.form.mark,callback:function(t){e.$set(e.form,"mark",t)},expression:"form.mark"}})],1)],1)],1)],1),e._v(" "),a("el-table",{staticClass:"email-table",staticStyle:{width:"100%"},attrs:{data:e.buylist}},[a("el-table-column",{attrs:{prop:"title",label:"Package Type"}}),e._v(" "),a("el-table-column",{attrs:{prop:"users",label:"Users"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qty",label:" Quantity"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EmailDialog=!1}}},[e._v("Cancel")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.saveload},on:{click:e.save}},[e._v("Send")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,o,!1,function(e){a("oKDO"),a("LMn5")},"data-v-75ed3ea6",null);t.default=i.exports},LMn5:function(e,t){},oKDO:function(e,t){}});
//# sourceMappingURL=18.31cd569c307273bd90b4.js.map