webpackJsonp([9],{RW3t:function(s,e,o){s.exports=o.p+"static/img/paypal.8c89be4.png"},Sy4k:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAABZCAMAAACpDpxjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABEVBMVEX///8yMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooyMooAAACREMNoAAAAWXRSTlMAHKPt+cNF5P5+Aa0M0iHsQvtungdd98cYNuVejgO7Etwr8k+vAg3jvpaUJ02k9UZBBqyx8fAKsr3qLiwPxsgjFcri2xsWGd7O7rY+sJo6kvaHJnkp/NpbCEJElnUAAAABYktHRFoDu6WiAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wYECyIky8LsawAAAYdJREFUWMPt2EdTAkEQhuEBFiTnnDMiQZAgCAIK5pyd//9HpAplm+Lybe/BC31/ag/zzlbXCGEwmhSzRWgbw55cjtVm16SMcjUOpxZl+lXS5daglD8lPV5cmddK+vywslhVJgNBlIXChEWiKIvFCYvHUBaNEBZOoCwYIEwmU6jz+whLZ1Dm9RCWzaHM7SIsX0CZ00EYXrPdRg8cr7mQJwyvOZclDK85kyYMrzmVpAeO15zY1bw1u5q3Z1fz9vxnzcUSyjZqDqFqo+YirES5slb7MLJX1W8dcFC4BqISQUodRKmGTtQ85KAWiNpHHNRRUZeDeug16R9z0EAnGp5w0AhE41MOmqiowkJTEM3OOIhc+HMOmi9AdMFBi7lO5LrkoBmIplccpP4s5TUHTcYgqnHQaKgTDdCtZAP1QRS74aCeim45qNMG0R0HtZoquuegBrpOeDmoruhEDxxURXfiRw4SZEV9wl9GntfoBTZCdDlIODhIvK4CfNOEhHhPf8jPL41oOd9lreIHwMdgY86G5BsAAAAASUVORK5CYII="},fV1C:function(s,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=o("//Fk"),i=o.n(t),a=o("gyMJ"),n=o("mw3O"),d=o.n(n),c={data:function(){return{containerLoading:!1,modifyShow:!1,loadingBtn:!1,voceShow:!0,elLoading:!1,elLoading2:!1,paymentLoading:!1,flag:!1,changeAdressShow:!1,payShow:!1,orderList:null,totalPrice:null,countTotalPrice:null,TM_TOtal:null,defaultAdress:null,totalItem:null,freightTotal:null,addressList:null,shippingcid:null,provinceList:null,cityList:null,couponNumber:"",payUrl:"",TM_address:{name:"",phone:"",province:"",city:"",postcode:"",detailed:"",id:"",isDefault:!0}}},created:function(){var s=this;this.containerLoading=!0,new i.a(function(e,o){Object(a.q)().then(function(o){0==o.code&&(window.location="/order/managerOrder"),s.containerLoading=!1,s.orderList=o.goodslist,s.addressList=o.address,s.shippingcid=o.shippingc[0].id,s.addressList.map(function(e,o){1==s.addressList[o].status?s.$set(s.addressList[o],"check",!0):s.$set(s.addressList[o],"check",!1)}),s.totalPrice=o.goodstotal,s.TM_TOtal=o.goodstotal,s.defaultAdress=o.address.filter(function(s){return 1==s.status})[0];for(var t=0,i=0;i<o.goodslist.length;i++)t+=o.goodslist[i].quantity;s.totalItem=t,e(o)})}).then(function(e){e.address.length>0?Object(a.A)(d.a.stringify({addressid:e.address[0].id,companyid:s.shippingcid})).then(function(e){s.freightTotal=e.content}):(s.flag=!1,s.modifyShow=!0)}),Object(a.h)().then(function(e){s.provinceList=e.content})},methods:{GoToBuy:function(){var s=this;this.containerLoading=!0,Object(a.x)(d.a.stringify({way:1,vcode:this.couponNumber})).then(function(e){s.containerLoading=!1,200==e.code?(s.payShow=!0,s.payUrl=e.url):s.$message.warning(e.content)})},changeAddress:function(s){var e=this;this.addressList.forEach(function(o,t){o.id==s?(o.check=!0,e.defaultAdress=o):o.check=!1}),Object(a.A)(d.a.stringify({addressid:s,companyid:this.shippingcid})).then(function(s){e.freightTotal=s.content})},modify:function(s){this.flag=!0,this.modifyShow=!0,this.getCity(s.province),this.TM_address.name=s.name,this.TM_address.detailed=s.address,this.TM_address.city=s.city,this.TM_address.phone=s.phone,this.TM_address.postcode=s.postcode,this.TM_address.province=s.province,this.TM_address.id=s.id,1==s.status?this.TM_address.isDefault=!0:this.TM_address.isDefault=!1},getCity:function(s,e){var o=this;this.TM_address.city="",Object(a.g)(d.a.stringify({id:s})).then(function(s){o.elLoading=!1,o.cityList=s.content})},saveAddress:function(){var s=this,e=[];for(var o in this.TM_address)"isDefault"!==o&&e.push(this.TM_address[o].length);if(e.indexOf(0)<0){var t=0;t=this.TM_address.isDefault?1:0,this.loadingBtn=!0;var i=void 0,n=void 0;i=isNaN(this.TM_address.city)?this.TM_address.city:this.cityList.filter(function(e){return e.id==s.TM_address.city})[0].name,n=isNaN(this.TM_address.province)?this.TM_address.province:this.provinceList.filter(function(e){return e.id==s.TM_address.province})[0].name,Object(a.w)(d.a.stringify({id:this.TM_address.id,city:i,detailed:this.TM_address.detailed,isDefault:t,name:this.TM_address.name,phone:this.TM_address.phone,postcode:this.TM_address.postcode,province:n})).then(function(e){s.loadingBtn=!1,s.editAddressShow=!1,s.$message.success("Save success !!"),location.reload()})}else this.$message.warning("Please input All infomation")},addAddressF:function(){var s=this,e=[];for(var o in this.TM_address)"isDefault"!==o&&"id"!==o&&e.push(this.TM_address[o].length);if(e.indexOf(0)<0){var t=0;t=this.TM_address.isDefault?1:0,this.loadingBtn=!0;var i=this.provinceList.filter(function(e){return e.id==s.TM_address.province})[0].name,n=this.cityList.filter(function(e){return e.id==s.TM_address.city})[0].name;Object(a.a)(d.a.stringify({city:n,detailed:this.TM_address.detailed,isDefault:t,name:this.TM_address.name,phone:this.TM_address.phone,postcode:this.TM_address.postcode,province:i})).then(function(e){s.loadingBtn=!1,s.editAddressShow=!1,s.$message.success("Add Address success !!"),location.reload()})}else this.$message.warning("Please input All infomation")},addNewAddress:function(){for(var s in this.flag=!1,this.modifyShow=!0,this.TM_address)this.TM_address[s]="isDefault"!==s&&""},goHome:function(){this.addressList.length>0?this.modifyShow=!1:window.location="/order/managerOrder"},checkCoupon:function(){var s=this;this.couponNumber.length>0&&this.couponNumber?(this.paymentLoading=!0,Object(a.b)(d.a.stringify({vcode:this.couponNumber,goodstotal:this.TM_TOtal})).then(function(e){s.paymentLoading=!1,200==e.code?(s.countTotalPrice=e.content.goodstotal,s.$message.success("This coupon can be used !!")):(s.couponNumber="",s.countTotalPrice=null,s.$message.warning(e.content))})):this.countTotalPrice=null}}},l={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:s.containerLoading,expression:"containerLoading"}],staticClass:"config-order"},[t("div",{staticClass:"order-container"},[t("div",{staticClass:"order-details"},[t("div",{staticClass:"order-address"},[s._m(0),s._v(" "),s.defaultAdress?t("div",{staticClass:"address-main"},[t("p",[s._v(s._s(s.defaultAdress.name))]),s._v(" "),t("p",[s._v(s._s(s.defaultAdress.phone))]),s._v(" "),t("p",[s._v(s._s(s.defaultAdress.province)+" , "+s._s(s.defaultAdress.city))]),s._v(" "),t("p",[s._v(s._s(s.defaultAdress.address))]),s._v(" "),t("p",[s._v(s._s(s.defaultAdress.postcode))]),s._v(" "),t("button",{on:{click:function(e){s.changeAdressShow=!s.changeAdressShow}}},[s._v("Switch")])]):s._e()]),s._v(" "),t("div",{staticClass:"order-product"},s._l(s.orderList,function(e,o){return t("div",{key:o,staticClass:"order-box"},[t("div",{staticClass:"order-product-img"},[t("img",{attrs:{src:e.img,alt:""}})]),s._v(" "),t("div",{staticClass:"order-product-main"},[t("p",[s._v(s._s(e.product))]),s._v(" "),t("p",{staticClass:"lite-main"},[s._v(s._s(e.productdetails))]),s._v(" "),t("p",{staticClass:"lite-price"},[s._v("$ "+s._s(e.unitprice))])]),s._v(" "),t("div",{staticClass:"order-product-quaty"},[s._v("Ã— "+s._s(e.quantity))])])}),0)]),s._v(" "),t("div",{staticClass:"order-main",class:s.containerLoading?"":"fix"},[t("p",{staticClass:"order-main-tit"},[s._v("Grocerry List")]),s._v(" "),t("div",{staticClass:"order-heavy"},[t("p",[s._v("\n          Total Price ("+s._s(s.totalItem)+" item)\n          "),t("span",{class:s.countTotalPrice?"under":""},[s._v("$ "+s._s(s.totalPrice))]),s._v(" "),s.countTotalPrice?t("br"):s._e(),s._v(" "),s.countTotalPrice?t("span",[s._v(" $ "+s._s(s.countTotalPrice))]):s._e(),s._v(" "),s.countTotalPrice?t("br"):s._e()]),s._v(" "),t("p",[s._v("\n          Shipping Fee\n          "),t("span",[s._v("$ "+s._s(s.freightTotal))])])]),s._v(" "),t("div",{staticClass:"order-vcode"},[t("el-input",{attrs:{placeholder:"coupon"},on:{blur:s.checkCoupon},model:{value:s.couponNumber,callback:function(e){s.couponNumber=e},expression:"couponNumber"}})],1),s._v(" "),t("p",{staticClass:"order-main-p"},[s._v("\n        Total Bill\n        "),s.countTotalPrice?t("span",[s._v("$ "+s._s(s.countTotalPrice+s.freightTotal))]):t("span",[s._v("$ "+s._s(s.totalPrice+s.freightTotal))])]),s._v(" "),t("button",{directives:[{name:"loading",rawName:"v-loading",value:s.paymentLoading,expression:"paymentLoading"}],on:{click:function(e){s.GoToBuy()}}},[s._v("Payment Method")])])]),s._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:s.elLoading,expression:"elLoading"}],attrs:{visible:s.changeAdressShow,"close-on-click-modal":!1,"show-close":!1,width:"65%"},on:{"update:visible":function(e){s.changeAdressShow=e}}},[t("div",{staticClass:"close",on:{click:function(e){s.changeAdressShow=!s.changeAdressShow}}},[t("span",{staticClass:"el-icon-close"})]),s._v(" "),t("h6",[s._v("Switch Address")]),s._v(" "),t("div",{staticClass:"switch-container"},s._l(s.addressList,function(e,o){return t("div",{key:o,staticClass:"switch-box",on:{click:function(o){s.changeAddress(e.id)}}},[e.check?t("div",{staticClass:"default"}):s._e(),s._v(" "),t("p",[s._v(s._s(e.name)+" "+s._s(e.phone)+" "+s._s(e.postcode))]),s._v(" "),t("p",[t("span",{staticClass:"el-icon-location-outline"}),s._v("\n          "+s._s(e.province)+" , "+s._s(e.city)+" , "+s._s(e.address)+"\n        ")]),s._v(" "),t("p",{staticClass:"modify",on:{click:function(o){o.stopPropagation(),s.modify(e)}}},[s._v("Modify")])])}),0),s._v(" "),t("p",{staticClass:"add-add",on:{click:s.addNewAddress}},[s._v("Add Address")]),s._v(" "),t("br"),s._v(" "),t("br")]),s._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:s.elLoading2,expression:"elLoading2"}],attrs:{visible:s.modifyShow,"close-on-click-modal":!1,"show-close":!1,width:"50%"},on:{"update:visible":function(e){s.modifyShow=e}}},[s.flag?t("div",{staticClass:"close",on:{click:function(e){s.modifyShow=!s.modifyShow}}},[t("span",{staticClass:"el-icon-close"})]):t("div",{staticClass:"close",on:{click:s.goHome}},[t("span",{staticClass:"el-icon-close"})]),s._v(" "),s.flag?t("h6",[s._v("Modify Address")]):t("h6",[s._v("Add Address")]),s._v(" "),t("ul",{staticClass:"from-letter"},[t("li",[t("label",[s._v("Receiving Name")]),s._v(" "),t("el-input",{staticClass:"no-select",attrs:{placeholder:"name"},model:{value:s.TM_address.name,callback:function(e){s.$set(s.TM_address,"name",e)},expression:"TM_address.name"}})],1),s._v(" "),t("li",[t("label",[s._v("Telephone Number")]),s._v(" "),t("el-input",{staticClass:"no-select",attrs:{placeholder:"phone"},model:{value:s.TM_address.phone,callback:function(e){s.$set(s.TM_address,"phone",e)},expression:"TM_address.phone"}})],1),s._v(" "),t("li",[t("label",[s._v("Province")]),s._v(" "),t("el-select",{staticClass:"select-item",attrs:{placeholder:"province"},on:{change:function(e){s.getCity(s.TM_address.province)}},model:{value:s.TM_address.province,callback:function(e){s.$set(s.TM_address,"province",e)},expression:"TM_address.province"}},s._l(s.provinceList,function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}},[t("span",[s._v(s._s(e.name))])])}),1)],1),s._v(" "),t("li",[t("label",[s._v("City")]),s._v(" "),t("el-select",{staticClass:"select-item",attrs:{placeholder:"city"},model:{value:s.TM_address.city,callback:function(e){s.$set(s.TM_address,"city",e)},expression:"TM_address.city"}},s._l(s.cityList,function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}},[t("span",[s._v(s._s(e.name))])])}),1)],1),s._v(" "),t("li",[t("label",[s._v("Post Code")]),s._v(" "),t("el-input",{staticClass:"no-select",attrs:{placeholder:"postcode"},model:{value:s.TM_address.postcode,callback:function(e){s.$set(s.TM_address,"postcode",e)},expression:"TM_address.postcode"}})],1),s._v(" "),t("li",[t("label",[s._v("Detailed")]),s._v(" "),t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"detailed"},model:{value:s.TM_address.detailed,callback:function(e){s.$set(s.TM_address,"detailed",e)},expression:"TM_address.detailed"}})],1)]),s._v(" "),t("div",{staticClass:"dialog-end"},[s.flag?t("p",[t("span",[s._v("Default Address")]),s._v(" "),t("el-switch",{attrs:{"active-color":"#3E3C89","inactive-color":"#A8ABAE"},model:{value:s.TM_address.isDefault,callback:function(e){s.$set(s.TM_address,"isDefault",e)},expression:"TM_address.isDefault"}})],1):s._e(),s._v(" "),s.flag?t("el-button",{attrs:{loading:s.loadingBtn},on:{click:function(e){s.saveAddress()}}},[s._v("Save")]):t("el-button",{attrs:{loading:s.loadingBtn},on:{click:function(e){s.addAddressF()}}},[s._v("Add")])],1)]),s._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:s.elLoading2,expression:"elLoading2"}],attrs:{visible:s.payShow,"close-on-click-modal":!1,"show-close":!1,width:"30%"},on:{"update:visible":function(e){s.payShow=e}}},[t("h5",[s._v("Pay with")]),s._v(" "),t("div",{staticClass:"s-close"},[t("router-link",{attrs:{to:"/order/managerOrder"}},[t("span",{staticClass:"el-icon-close"})])],1),s._v(" "),t("div",{staticClass:"pay-box"},[t("ul",{staticClass:"pay-list"},[t("a",{attrs:{href:s.payUrl}},[t("li",[t("div",{staticClass:"img"},[t("img",{attrs:{src:o("RW3t"),alt:""}})]),s._v(" "),t("div",{staticClass:"name"},[s._v("Paypal")]),s._v(" "),t("div",{staticClass:"right"},[t("img",{attrs:{src:o("Sy4k"),alt:""}})])])])])])])],1)},staticRenderFns:[function(){var s=this.$createElement,e=this._self._c||s;return e("div",{staticClass:"select-address"},[e("p",[this._v("Checkout")]),this._v(" "),e("p",[this._v("Shipping Address")])])}]};var r=o("VU/8")(c,l,!1,function(s){o("pNKw"),o("rkWo")},"data-v-43a325bc",null);e.default=r.exports},pNKw:function(s,e){},rkWo:function(s,e){}});
//# sourceMappingURL=9.7cc8b288abe52c2b4fbb.js.map